<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DXF Generator</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <div class="container">
      <div class="page-header">
        <h2>DXF Generator</h2>
        <div class="prepared">
          Prepared for:
          <strong>
            <a
              href="https://www.capitalgainspvtltd.com/"
              target="_blank"
              rel="noopener noreferrer"
              >Capital Gains Pvt Ltd</a
            >
          </strong>
        </div>
      </div>
      <form id="dxfForm">
        <div class="toggle-container">
          <div class="toggle-switch" id="toggleSwitch">
            <div class="toggle-slider" id="toggleSlider"></div>
            <div class="toggle-option active" data-value="single">Single</div>
            <div class="toggle-option" data-value="bulk">Bulk</div>
          </div>
        </div>
        <div class="toggle-hint">
          <span id="toggleHint">Enter parameters below</span>
        </div>

        <div class="section-divider"></div>

        <div id="singleInputs" class="fade-in">
          <h4>Door Selection</h4>
          <div class="grid-2">
            <div class="input-group">
              <label>Door Type</label>
              <select name="door_type" id="doorType" class="field">
                <option value="">Select Door Type</option>
                <option value="single">Single Door</option>
                <option value="double">Double Door</option>
              </select>
            </div>

            <div class="input-group">
              <label>Sub Type</label>
              <select name="sub_type" id="subType" class="field">
                <option value="">Select Sub Type</option>
                <option value="normal">Normal</option>
                <option value="fire">Fire</option>
              </select>
            </div>
          </div>

          <div id="fireOptionsContainer" class="mt hidden">
            <label>Fire Option</label>
            <select name="fire_option" id="fireOption" class="field">
              <option value="">Select Fire Option</option>
            </select>
          </div>

          <h4 class="mt">Hole Offset Position</h4>
          <div class="grid-2">
            <div class="input-group">
              <label>Hole Offset</label>
              <select name="hole_offset" id="holeOffset" class="field">
                <option value="80x40">80 √ó 40</option>
                <option value="150x40">150 √ó 40</option>
              </select>
            </div>
            <div class="input-group">
              <label>Default Allowance(25mm)?</label>
              <select
                name="default_allowance"
                id="defaultAllowance"
                class="field"
              >
                <option value="yes">Yes</option>
                <option value="no">No</option>
              </select>
            </div>
          </div>

          <div id="allowanceSection">
            <h4>Core Dimensions</h4>
            <div class="grid-2">
              <div class="input-group">
                <label>Width Measurement</label>
                <input
                  type="number"
                  name="width_measurement"
                  value="0"
                  class="field"
                />
                <span class="input-suffix">mm</span>
              </div>

              <div class="input-group">
                <label>Height Measurement</label>
                <input
                  type="number"
                  name="height_measurement"
                  value="0"
                  class="field"
                />
                <span class="input-suffix">mm</span>
              </div>
            </div>

            <h4 id="horizontalAllowancesHeader">Horizontal Allowances</h4>
            <div id="allowanceInputs" class="grid-2">
              <div class="input-group">
                <label>Left Side Allowance Width</label>
                <input
                  type="number"
                  name="left_side_allowance_width"
                  value="25"
                  class="field"
                />
                <span class="input-suffix">mm</span>
              </div>

              <div class="input-group">
                <label>Right Side Allowance Width</label>
                <input
                  type="number"
                  name="right_side_allowance_width"
                  value="25"
                  class="field"
                />
                <span class="input-suffix">mm</span>
              </div>
            </div>

            <h4 id="verticalAllowancesHeader">Vertical Allowances</h4>
            <div id="verticalAllowanceInputs" class="grid-2">
              <div class="input-group">
                <label>Top Side Allowance Height</label>
                <input
                  type="number"
                  name="top_side_allowance_height"
                  value="25"
                  class="field"
                />
                <span class="input-suffix">mm</span>
              </div>

              <div class="input-group">
                <label>Bottom Side Allowance Height</label>
                <input
                  type="number"
                  name="bottom_side_allowance_height"
                  value="25"
                  class="field"
                />
                <span class="input-suffix">mm</span>
              </div>
            </div>
          </div>
          <!-- end allowanceSection -->
        </div>

        <div id="bulkInputs" class="hidden">
          <h4>Bulk DXF Generation</h4>
          <label>Upload Excel File</label>
          <input type="file" id="excelFile" name="excelFile" accept=".xlsx" />
          <small class="note">
            üìä Excel should contain required columns for door generation.
          </small>
        </div>

        <div class="controls">
          <button type="submit" class="btn-primary">Generate DXF</button>
          <button type="button" id="previewBtn" class="btn-primary">
            Preview
          </button>
        </div>
        <div id="previewContainer" class="mt">
          <h4>Preview Result</h4>
          <div class="preview-row">
            <pre id="previewBox" class="hidden preview-box"></pre>
            <div id="svgPreviewWrapper" class="svg-preview-wrapper">
              <svg
                id="svgPreview"
                viewBox="0 0 1000 1000"
                preserveAspectRatio="xMidYMid meet"
                class="svg-preview"
              >
                <!-- geometry will be drawn here -->
              </svg>
              <div class="svg-preview-note">SVG schematic preview (scaled)</div>
            </div>
          </div>
        </div>
      </form>
    </div>

    <script src="/static/app.js?v=2" defer></script>
  </body>
  <div class="copyright-badge">¬© 2025 Jinesh</div>
  <footer class="site-footer">
    Developed with ‚ù§Ô∏è by <span class="author-highlight">Jinesh</span>
  </footer>
</html>
